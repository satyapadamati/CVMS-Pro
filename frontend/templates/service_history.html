{% extends 'base.html' %}
{% block content %}
    <div class="row">
        <div class="col-12">
            <h2 class="text-center">Service History</h2>
            <ul class="list-group">
                {% for vehicle in vehicles %}
                    <li class="list-group-item">
                        <h4>{{ vehicle.vehicle_name }} {{ vehicle.model }} ({{ vehicle.year }})</h4>
                        <ul class="list-group">
                            {% for record in maintenance_records %}
                                {% if record.vehicle_id == vehicle.vehicle_id %}
                                    <li class="list-group-item">{{ record.service_date }} - {{ record.description }} - ${{ record.cost }}</li>
                                {% endif %}
                            {% empty %}
                                <li class="list-group-item">No records available for this vehicle.</li>
                            {% endfor %}
                        </ul>
                    </li>
                {% empty %}
                    <li class="list-group-item">No vehicles or records available.</li>
                {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}